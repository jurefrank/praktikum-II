
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

<head>
<meta charset="UTF-8" />
<title>User profile</title>
<link rel="stylesheet" href="style.css"></link>
</head>
<body>
	<ui:composition template="WEB-INF/shared/template.xhtml">
		<ui:define name="content">
			<div id="login-box">
				<br />
				<div>
					<h:panelGroup rendered="#{not empty user}">

						<h1>Welcome, #{user.firstName} </h1><h1> #{user.lastName}</h1>

						<h1>Welcome, #{user.email}</h1>
						<br />
						<div align="center">
							<h2>Change your password</h2>
							<h:form>
								<h:inputSecret id="password" binding="#{passwordComponent}"
									value="#{userControler.newPassword}" required="true"
									a:placeholder="New password" />
								<h:message for="password" />
								<h:inputSecret id="confirm"
									required="#{not empty password.value}"
									a:placeholder="Retype new password">
									<f:validator validatorId="confirmPasswordValidator" />
									<f:attribute name="passwordComponent"
										value="#{passwordComponent}" />
								</h:inputSecret>
								<h:message for="confirm" />
								<h:commandButton type="submit" value="Set password"
									action="#{userControler.updateUserPassword}" />
							</h:form>
							<div>
								<h:form>
									<h:commandButton styleClass="logout"
										action="#{socialControler.logout}" value="Logout" />
								</h:form>
							</div>
						</div>
					</h:panelGroup>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</body>
</html>